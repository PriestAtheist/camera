{"ast":null,"code":"import _slicedToArray from\"E:/github/camera/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect,useRef}from'react';import socket from'../../socket';import ACTIONS from'../../socket/actions';import{useNavigate}from'react-router';import{v4}from'uuid';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Main(){var history=useNavigate();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),rooms=_useState2[0],updateRooms=_useState2[1];var rootNode=useRef();useEffect(function(){socket.on(ACTIONS.SHARE_ROOMS,function(){var _ref=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},_ref$rooms=_ref.rooms,rooms=_ref$rooms===void 0?[]:_ref$rooms;if(rootNode.current){updateRooms(rooms);}});},[]);return/*#__PURE__*/_jsxs(\"div\",{ref:rootNode,children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Available Rooms\"}),/*#__PURE__*/_jsx(\"ul\",{children:rooms.map(function(roomID){return/*#__PURE__*/_jsxs(\"li\",{children:[roomID,/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){history(\"/room/\".concat(roomID));},children:\"JOIN ROOM\"})]},roomID);})}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){history(\"/room/\".concat(v4()));},children:\"Create New Room\"})]});}","map":{"version":3,"names":["useState","useEffect","useRef","socket","ACTIONS","useNavigate","v4","jsx","_jsx","jsxs","_jsxs","Main","history","_useState","_useState2","_slicedToArray","rooms","updateRooms","rootNode","on","SHARE_ROOMS","_ref","arguments","length","undefined","_ref$rooms","current","ref","children","map","roomID","onClick","concat"],"sources":["E:/github/camera/src/pages/Main/index.js"],"sourcesContent":["import {useState, useEffect, useRef} from 'react';\r\nimport socket from '../../socket';\r\nimport ACTIONS from '../../socket/actions';\r\nimport { useNavigate} from 'react-router';\r\nimport {v4} from 'uuid';\r\n\r\nexport default function Main() {\r\n  const history = useNavigate();\r\n  const [rooms, updateRooms] = useState([]);\r\n  const rootNode = useRef();\r\n\r\n  useEffect(() => {\r\n    socket.on(ACTIONS.SHARE_ROOMS, ({rooms = []} = {}) => {\r\n      if (rootNode.current) {\r\n        updateRooms(rooms);\r\n      }\r\n    });\r\n  }, []);\r\n\r\n  return (\r\n    <div ref={rootNode}>\r\n      <h1>Available Rooms</h1>\r\n\r\n      <ul>\r\n        {rooms.map(roomID => (\r\n          <li key={roomID}>\r\n            {roomID}\r\n            <button onClick={() => {\r\n              history(`/room/${roomID}`);\r\n            }}>JOIN ROOM</button>\r\n          </li>\r\n        ))}\r\n      </ul>\r\n\r\n      <button onClick={() => {\r\n        history(`/room/${v4()}`);\r\n      }}>Create New Room</button>\r\n    </div>\r\n  );\r\n}"],"mappings":"sGAAA,OAAQA,QAAQ,CAAEC,SAAS,CAAEC,MAAM,KAAO,OAAO,CACjD,MAAO,CAAAC,MAAM,KAAM,cAAc,CACjC,MAAO,CAAAC,OAAO,KAAM,sBAAsB,CAC1C,OAASC,WAAW,KAAO,cAAc,CACzC,OAAQC,EAAE,KAAO,MAAM,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAExB,cAAe,SAAS,CAAAC,IAAIA,CAAA,CAAG,CAC7B,GAAM,CAAAC,OAAO,CAAGP,WAAW,CAAC,CAAC,CAC7B,IAAAQ,SAAA,CAA6Bb,QAAQ,CAAC,EAAE,CAAC,CAAAc,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAlCG,KAAK,CAAAF,UAAA,IAAEG,WAAW,CAAAH,UAAA,IACzB,GAAM,CAAAI,QAAQ,CAAGhB,MAAM,CAAC,CAAC,CAEzBD,SAAS,CAAC,UAAM,CACdE,MAAM,CAACgB,EAAE,CAACf,OAAO,CAACgB,WAAW,CAAE,UAAuB,KAAAC,IAAA,CAAAC,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAP,CAAC,CAAC,CAAAG,UAAA,CAAAJ,IAAA,CAAhBL,KAAK,CAALA,KAAK,CAAAS,UAAA,UAAG,EAAE,CAAAA,UAAA,CACzC,GAAIP,QAAQ,CAACQ,OAAO,CAAE,CACpBT,WAAW,CAACD,KAAK,CAAC,CACpB,CACF,CAAC,CAAC,CACJ,CAAC,CAAE,EAAE,CAAC,CAEN,mBACEN,KAAA,QAAKiB,GAAG,CAAET,QAAS,CAAAU,QAAA,eACjBpB,IAAA,OAAAoB,QAAA,CAAI,iBAAe,CAAI,CAAC,cAExBpB,IAAA,OAAAoB,QAAA,CACGZ,KAAK,CAACa,GAAG,CAAC,SAAAC,MAAM,qBACfpB,KAAA,OAAAkB,QAAA,EACGE,MAAM,cACPtB,IAAA,WAAQuB,OAAO,CAAE,SAAAA,QAAA,CAAM,CACrBnB,OAAO,UAAAoB,MAAA,CAAUF,MAAM,CAAE,CAAC,CAC5B,CAAE,CAAAF,QAAA,CAAC,WAAS,CAAQ,CAAC,GAJdE,MAKL,CAAC,EACN,CAAC,CACA,CAAC,cAELtB,IAAA,WAAQuB,OAAO,CAAE,SAAAA,QAAA,CAAM,CACrBnB,OAAO,UAAAoB,MAAA,CAAU1B,EAAE,CAAC,CAAC,CAAE,CAAC,CAC1B,CAAE,CAAAsB,QAAA,CAAC,iBAAe,CAAQ,CAAC,EACxB,CAAC,CAEV"},"metadata":{},"sourceType":"module","externalDependencies":[]}